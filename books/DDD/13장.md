## 실무에서의 도메인 주도 설계

DDD의 혜택을 가장 많이 받는 것은 그린필드 일 것 같지만 실제로는 브라운 필드에서 가장 혜택을 많이 받는다

<aside>
💡

그린 필드란?
그린필드 소프트웨어 개발은 개발자들이 기존 시스템, 프레임워크, 또는 제약에 의존하지 않고 프로젝트를 처음부터 시작하는 것

</aside>

<aside>
💡

브라운 필드란?

브라운필드 소프트웨어 개발은 처음부터 구축하는 것이 아니라 기존 소프트웨어 시스템을 수정, 개선 또는 통합하는 것

</aside>

### 전략적 분석

비즈니스 도메인 이해하기

- 조직의 비즈니스 도메인은 무엇인가?
- 고객은 누구인가?
- 조직이 고객에게 제공하는 서비스 또는 가치는 무엇인가?
- 경쟁 회사 또는 그들의 제품은 무엇인가?

컴포넌트의 특성 중 수명주기를 분리할 수 있는지 찾아라

각 상위 수준 컴포넌트에 대해 그것이 어느 비즈니스 하위 도메인을 포함하고 어떤 기술적 설계 의사결정을 내렸는지 확인하라

상위 수준 컴포넌트에 대한 지식을 사용하여 이러한 컴포넌트가 바운디드 컨텍스트인 것처럼 현재 설계의 컨텍스트 맵을 차트로 표시하라

### 전략적 현대화

논리적 경계를 물리적 경계로 바꿔 바운디드 컨텍스트를 추출하는 과정에서 다음과 같은 질문을 자문해봐라

- 여러 팀이 동일한 코드베이스에서 작업하고 있는가? 그렇다면 각 팀에 대한 바운디드 컨텍스틀르 정의하여 개발 수명주기를 분리하라
- 서로 다른 컴포넌트에서 충돌하는 모델을 사용하고 있는가? 그렇다면 충돌하는 모델을 별도의 바운디드 컨텍스트로 재배치하라

<aside>
💡

스트랭글러 패턴

스트랭글러 마이그레이션 패턴은 새로운 바운디드 컨텍스트인 스트랭글러를 생성하고, 이 스트랭글러를 사용하여 새로운 요구사항을 구현하고 점차적으로 레거시 컨텍스트의 기능을 해당 컨텍스트로 마이그레이션 한다.

일반적으로 파사드 패턴과 함께 사용한다

</aside>

### 전술적 설계 의사결정 리팩토링

1. 작은 점진적인 조치가 대규모 재작성보다 안전하다.
    1. 트랜잭션 스크립트 또는 액티브 레코드를 이벤트 소싱 도메인 모델로 직접 리팩토링 하지 마라
    2. 상태 기반 애그리게이트를 설계하는 중간 단계를 진행하라
2. 작은 점진적인 조치를 수행하는 것과 동일한 이유로, 도메인 모델로의 리팩토링이 한 번에 이루어질 필요는 없다. 대신 도메인 모델 패턴의 요소들을 점진적으로 도입할 수 있다

### 실용적인 도메인 주도 설계

도메인 주도 설계는 비즈니스 도메인이 소프트웨어 설계 의사결정을 주도하게 하는 것이다!
