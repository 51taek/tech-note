## 🧭 바운디드 컨텍스트 간의 관계

바운디드 컨텍스트는 **독립적으로 발전하고 구현될 수 있지만**,  
바운디드 컨텍스트 자체는 **완전히 독립적이지 않다.**

즉, **바운디드 컨텍스트끼리는 상호작용해야 한다.**

바운디드 컨텍스트 사이의 접점을 **‘컨트랙트(Contract)’** 라고 한다.

---

## 🤝 협력형 패턴 그룹 (Partnership Patterns)

> 소통이 잘 되는 팀에서 구현된다.

---

### 🧩 파트너십 패턴 (Partnership)

애드훅(Ad-hoc) 방식으로 조정하는 패턴이다.  
한 팀은 다른 팀에게 API 변경을 알리고,  
다른 팀은 충돌 없이 이를 받아들인다.  
연동의 조정은 **양방향으로 이루어진다.**

---

### ⚙️ 공유 커널 패턴 (Shared Kernel)

어쩔 수 없이 바운디드 컨텍스트 간의 **공유 커널**을 사용하는 경우가 있다.  
이 경우는 **중복 비용이 조율 비용보다 클 때만** 사용해야 한다.

---

## 🧭 사용자-제공자 패턴 그룹 (Customer–Supplier Patterns)

제공자는 사용자에게 서비스를 제공한다.  
제공자는 **업스트림(Upstream)** 이고, 사용자는 **다운스트림(Downstream)** 이다.

협력형 그룹과 달리, 양 팀은 **서로 독립적으로 성공할 수 있다.**

---

### 🙇‍♂️ 순응주의자 패턴 (Conformist)

힘의 균형이 **제공자에게 있는 패턴**이다.  
제공자는 사용자의 요구를 지원할 동기가 없다.  
우리가 **외부 API를 사용하는 경우** 이 패턴에 해당한다.

---

### 🧱 충돌 방지 계층 패턴 (Anti-Corruption Layer)

다운스트림 바운디드 컨텍스트가 업스트림에 **순응하지 않는 경우**,  
충돌 방지 계층을 통해 스스로 필요에 맞게 가공할 수 있다.

이 패턴은 다음과 같은 경우에 사용된다.

1. 다운스트림 바운디드 컨텍스트가 **핵심 하위 도메인**을 포함할 때  
2. 업스트림 모델이 사용자의 요건에 **비효율적이거나 불편할 때**  
3. 제공자가 **컨트랙트를 자주 변경**할 때  

---

### 🌐 오픈 호스트 패턴 (Open Host Service)

이 패턴은 **힘이 사용자 측에 있을 때** 사용된다.  
구현 모델의 변경으로부터 사용자를 보호하기 위해  
업스트림 제공자는 퍼블릭 인터페이스를 **구현 모델로부터 분리**한다.

> 충돌 방지 계층 패턴과 반대되는 개념이다.

---

## 🚄 분리형 노선 (Separate Ways)

---

### 💬 커뮤니케이션 이슈

(별도의 명시된 내용 없음)

---

### ⚙️ 일반 하위 도메인 (Generic Subdomain)

일반 하위 도메인이 일반 솔루션과 연동하기 쉽다면,  
각 바운디드 컨텍스트 내에서 **각자 연동하는 것**도 괜찮다.

---

### 🧠 모델의 차이 (Model Differences)

모델이 너무 달라서 **순응주의자 관계도 불가능**하고  
**충돌 방지 계층**을 사용하는 비용이 더 클 때 적용된다.

---

### 🗺 컨텍스트 맵 (Context Map)

- 거시적 설계 관점  
- 커뮤니케이션 패턴  
- 조직적 문제
