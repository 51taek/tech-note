## 진화하는 설계 의사결정

### 전략적 설계 문제

- 핵심 하위 도메인은 충돌 방지 계층을 사용해서 모델을 보호하고 , 오픈 호스트 서비스를 사용하여 구현 모델의 빈번한 변경으로부터 사용자를 보호해야 한다
- 하위도메인이 핵심 하위도메인으로 변형되는 경우 여러 팀에서 해당 기능을 복제하는 것은 더이상 허용되지 않는다

### 전술적 설계 문제

- 트랜잭션 스크립트에서 작업이 어려워지면 그것을 액티브 레코드 패턴으로 리팩토링 하자
- 액티브 레코드를 조작하는 비즈니스 로직이 점점 더 복잡해지고 불일치 및 중복 사례가 많아진다면 도메인 모델 패턴으로 리팩토링하자
- 가장 작은 트랜잭션 경계, 즉 강한 일관성을 유지하는데 필요한 최소 데이터를 찾아라. 그것은 애그리게이트의 좋은 후보다.
- 애그리게이트에 있는 다른 모든 내부 객체의 메서드를 private로 만들어서 애그리게이트 내에서만 호출 가능하게 한다
- 애그리게이트 경계가 적절하게 설계된 도메인 모델이 있으면 이벤트 소싱 모델로 전환할 수 있따
    - 기존 애그리게이트의 이력을 나타내는 것이 어려움
    - 과거이벤트에 대한 지식 부족을 인정하고, 명시적으로 이벤트를 모델링

### 도메인 지식

- 도메인 로직이 불명확하고 자주 변경되는 경우 바운디드 컨텍스트를 더 넓은 경계로 설계하는 것이 합리적이다

### 바운디드 컨텍스트

- 특정 문제를 해결하는데 초점을 맞춘 바운디드 컨텍스트를 추출하여 모델을 단순화할 수 있는 기회를 항상 찾아라

### 결론

- 하위 도메인의 기능이 확장되면 더 나은 설계 의사결정을 내릴 수 있도록 더 세분화된 하위 도메인 경계를 식별하려고 노력하라
- ‘여러 방면에서 다재다능한’ 바운디드 컨텍스트가 되는 것을 허용하지 마라. 바운디드 컨텍스트에 포함된 모델이 특정 문제를 해겨하는 데 중점을 두고 있는지 확인하라
- 애그리게이트의 경계가 가능한 한 작은지 확인하라. 확실하게 일돤된 데이터의 휴리스틱을 사용하여 비즈니스 로직을 새 애그리게이트로 추출할 가능성을 탐지하라dd icon
