# 책임 할당하기

### 책임 중심의 설계로 전환하기 위한 원칙

- 데이터보다 행동을 먼저 결정하라
- 협력이라는 문맥 안에서 책임을 결정하라

### 데이터 보다 행동을 먼저 결정하라

- 객체에게 중요한 것은 데이터가 아니라 외부에 제공하는 행동이다

### 협력이라는 문맥 안에서 책임을 결정하라

- 객체의 입장에서 책임이 조금 어색해 보이더라도 협력에 적합하다면 그 책임은 좋은 것이다.  책임은 객체의 입장이 아니라 객체가 참여하는 협력에 적합해야 한다.
- 메시지를 먼저 결정하고 그 메시지를 처리할 객체를 결정해야한다.
- 클라이언트는 임의의 객체가 메시지를 수신할 것이라는 것을 믿고 자신의 의도를 표현한다.

## GRASP 패턴

- ‘일반적인 책임 할당을 위한 소프트웨어 패턴

### 도메인 개념에서 출발하기

- 도메인 개념을 정리하는 데 너무 많은 시간을 들이지 말고 빠르게 설계와 구현을 진행하라.

> 올바론 도메인 모델이란 존재하지 않는다.

### 정보 전문가에게 책임을 할당하라

- 질문
    1. 메시지를 전송할 객체는 무엇을 하는가?
    2. 메시지를 수신할 적합한 객체는 누구인가?
- 정보 전문가(Information Expert 패턴)
    - 책임을 객체에 할당하는 일반적인 원리는 무엇인가? 책임을 수행하는데 필요한 정보를 가지고 있는 객체에게 할당하라.
    - 객체가 자신이 소유하고 있는 정보와 관련된 작업을 수행한다.
 
### 높은 응집도와 낮은 결합도

**Low Coupling 패턴**

- 설계의 전체적인 결합도가 낮게 유지되도록 책임을 할당하라

**High Cohesion 패턴**

- 높은 응집도를 유지할 수 있게 책임을 할당하라

### 창조자에게 객체 생성 책임을 할당하라

**CREATOR 패턴**

- 객체 A를 생성할 책임을 가질 객체 B를 고르는 방법은 아래의 조건을 많이 만족하는 B를 고르면 된다
    - B가 A 객체를 포함하거나 참조한다
    - B가 A객체를 기록한다
    - B가 A객체를 긴밀하게 사용한다
    - B가 A객체를 초기화하는 데 필요한 데이터를 가지고 있다.
- A와 B는 이미 결합되어 있을 것이고 이미 결합되어 있는 객체에게 생성 책임을 할당하는 것은 설계의 전체적인 결합도에 영향을 미치지 않는다
