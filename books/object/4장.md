# 객체지향 설계와 책임

## 책임의 중요성
객체지향 어플리케이션의 **전체 품질은 책임에 의해 결정된다.**  
설계는 결국 **변경을 수용하기 위해 존재**하며, 모든 변경에는 비용이 따른다.  
**훌륭한 설계란 합리적인 비용 안에서 변경을 수용할 수 있는 구조**를 만드는 것이다.  
이러한 구조는 **응집도가 높고 결합도가 낮은(느슨한 결합)** 설계를 의미한다.

---

## 구현과 인터페이스의 분리

- **변경될 가능성이 높은 부분** → *구현(Implementation)*  
- **상대적으로 안정적인 부분** → *인터페이스(Interface)*  

> 변경의 정도에 따라 구현과 인터페이스를 분리해야 하며,  
> 외부에서는 오직 인터페이스에만 의존하도록 관계를 조절해야 한다.

---

## 캡슐화(Encapsulation)

> 객체 내부에서 **무엇을 캡슐화해야 하는가?**
>  
> → **“변경될 수 있는 어떤 것이라도 감춰야 한다.”**

- 내부 구현을 변경했을 때 다른 모듈에 영향을 미친다면 → **결합도가 높다.**
- 응집도가 높은 설계에서는 **하나의 요구사항 변경을 반영하기 위해 오직 하나의 모듈만 수정**하면 된다.

---

## 데이터 중심 설계의 문제점

데이터 중심 설계는 다음과 같은 근본적인 문제를 가진다.

1. **캡슐화 위반**
2. **높은 결합도**
3. **낮은 응집도**

### 1️⃣ 캡슐화 위반

getter와 setter를 단순히 추가했다고 해서 캡슐화를 지킨 것은 아니다.

> **Q.** `private` 변수를 `getter/setter`로 접근하지 못하게 막는 것이 캡슐화인가?  
> **A.** 아니다. 이는 *데이터 캡슐화*의 일부일 뿐이다.

- **진정한 캡슐화**는 “변경될 수 있는 어떤 것도 외부로부터 감추는 것”을 의미한다.  
- `getter`를 통해 내부 구조를 유추할 수 있다면 이미 캡슐화는 실패한 것이다.

---

### 2️⃣ 추측에 의한 설계 (Design by Speculation)

객체가 실제로 **사용될 협력 문맥을 고려하지 않고**,  
“다양한 상황에서 사용될 수 있을 것”이라는 막연한 추측으로 설계를 진행하는 것.

- 개발자는 내부 상태를 드러내는 메서드를 “혹시 몰라서” 많이 추가하게 된다.
- 이는 객체가 가진 **협력의 맥락(Context of Collaboration)** 을 무시한 채 확장 가능성만 고려한 **잘못된 설계 전략**이다.

---

### 3️⃣ 데이터 중심 설계의 구조적 문제

- 데이터 중심 설계는 **너무 이른 시점에 데이터 구조를 결정**하게 만든다.
- 협력(Context)이라는 관점을 고려하지 않고,  
  객체를 고립된 상태에서 **오퍼레이션(메서드)** 을 결정하게 된다.

> 즉, 데이터 중심 설계는 객체를 “행동하는 존재”가 아니라  
> “데이터의 보관소”로 전락시킨다.

---

## 요약

| 핵심 개념 | 설명 |
|------------|------|
| **책임** | 객체가 협력 속에서 수행해야 할 로직, 품질의 핵심 |
| **응집도** | 하나의 변경이 한 모듈에만 영향을 미치도록 설계 |
| **결합도** | 내부 변경이 외부에 미치는 영향, 낮을수록 좋음 |
| **캡슐화** | 변경 가능성이 있는 부분을 감추는 행위 |
| **인터페이스** | 안정적인 외부와의 접점 |
| **구현** | 자주 변경될 수 있는 내부 세부사항 |
| **데이터 중심 설계의 문제** | 캡슐화 위반, 높은 결합도, 낮은 응집도, 협력 부재 |

---

> “**훌륭한 객체지향 설계란, 합리적인 비용으로 변경을 수용할 수 있는 구조다.**  
> 이를 위해 우리는 ‘책임’을 중심으로 협력을 설계해야 한다.”
