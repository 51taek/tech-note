# 책임과 객체지향 설계

결국 책임이 객체지향 어플리케이션 전체의 품질을 결정한다

설계는 변경을 위해서 존재하고 변경에는 어떤 식으로든 비용이 발생한다. 훌륭한 설계란 합리적인 비용 안에서 변경을 수용할 수 있는 구조를 만드는 것이고, 그 설계는 응집도가 높고 느슨하게 결합되어 있는 설계를 말한다.

변경될 가능성이 높은 부분을 구현이라고 부르고 상대적으로 안정적인 부분을 인터페이스라고 부른다

변경의 정도에 따라 구현과 인터페이스를 분리하고 외부에서는 인터페이스에만 의존하도록 관계를 조절해야한다.

객체 내부에 무엇을 캡슐화 해야 하는가? 변경될 수 있는 어떤 것이라고 캡슐화 해야한다.

응집도가 높은 설계에서는 하나의 요구사항 변경을 반영하기 위해 오직 하나의 모듈만 수정하면 된다.

내부 구현을 변경했을 때 다른 모듈에 영향을 미치는 경우에 결합도가 높다

데이터 중심의 설계가 가진 대표적인 문제점.  
1. 캡슐화 위반  
2. 높은 결합도  
3. 낮은 응집도

---

## 캡슐화 위반

getter와 setter를 구현함으로써 해서 객체 내부의 private 변수에 직접적으로 접근하지 못하게 하는 것이 캡슐화의 원칙을 지키고 있는 것이 맞는가? 아니다.

### 추측에 의한 설계 전략

객체가 사용될 협력을 고려하지 않고 객체가 다양한 상황에서 사용될 수 있을 것이라는 막연한 추측을 기반으로 설계를 진행하는 것. 개발자는 내부 상태를 드러내는 메소드를 최대한 많이 추가해야한다는 압박에 시달림.

setter가 없어도 getter를 통해서 내부 구조를 유추할 수 있다. ← 이게 가능한 것 또한 캡슐화가 실패했다는 것이다.

캡슐화는 변경될 수 있는 어떤 것이라도 감추는 것을 의미한다. 내부 속성을 외부로부터 감추는 것은 ‘데이터 캡슐화’라는 캡슐화의 한 종류일 뿐이다.

---

## 데이터 중심 설계의 문제점

- 데이터 중심의 설계는 본질적으로 너무 이른 시기에 데이터에 관해 결정하도록 강요한다
- 데이터 중심의 설계에서는 협력이라는 문맥을 고려하지 않고 객체를 고립시킨 채 오퍼레이션을 결정한다
